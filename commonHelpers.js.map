{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY =\n  'live_jJ5aLGn50ZkM07nMxodxDW7fSjdGGLoPRReFN6eyXEoTBwtctXneqCxESjN80VWx';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\n\nconst axiosInstance = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'x-api-key': API_KEY,\n    'Content-Type': 'application/json', \n  },\n});\n\nexport function fetchBreeds() {\n  return axiosInstance.get('/breeds')\n    .then(response => response.data)\n    .catch(error => {\n      console.error(`Error fetching breeds: ${error}`);\n      return [];\n    });\n}\n\nexport function fetchCatByBreed(id) {\n  return axiosInstance.get(`/images/${id}`)\n    .then(response => response.data)\n    .catch(error => {\n      throw new Error(error.response.statusText);\n    });\n}","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport SlimSelect from 'slim-select';\nimport '../node_modules/slim-select/dist/slimselect.css';\n\nconst optionsContainer = document.querySelector('.breed-select');\nconst infoContainer = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\n\nfunction optionsMarkup(data) {\n  return data\n    .map(item => {\n      const { name, reference_image_id } = item;\n      return `<option value=\"${reference_image_id}\">${name}</option>`;\n    })\n    .join('');\n}\n\nfunction catMarkup(cat) {\n  const {\n    url,\n    breeds: {\n      0: { description, temperament, name },\n    },\n  } = cat;\n  loader.classList.remove('visible');\n    return `<h2>${name}</h2>\n  <div class=\"info-container\">\n  <img width=\"500\" src=\"${url}\" class=\"cat-image\">\n  <div class=\"text-container\">\n  <p class=\"cat-p\">${description}</p>\n  <p class=\"cat-p\">\n  <span class=\"bold\">Temperament: </span>${temperament}</p>\n  </div>\n  </div>`;\n}\n\nloader.classList.add('visible');\n\nfetchBreeds()\n  .then(data => {\n    if (Array.isArray(data) && data.length > 0) {\n      optionsContainer.innerHTML =\n        `<option data-placeholder=\"true\"></option>` + optionsMarkup(data);\n    } else {\n      optionsContainer.innerHTML = '';\n    }\n  })\n  .then(() => {\n    new SlimSelect({\n      select: '#single',\n      settings: {\n        placeholderText: 'Select a cat',\n      },\n      events: {\n        afterChange: () => {\n          infoContainer.classList.add('invisible');\n          loader.classList.remove('invisible');\n          fetchCatByBreed(optionsContainer.value)\n            .then(cat => (infoContainer.innerHTML = catMarkup(cat)))\n            .then(() => {\n              loader.classList.add('invisible');\n              infoContainer.classList.remove('invisible');\n            })\n            .catch(error =>\n              console.error(`Error occurred: ${error}`)\n            );\n        },\n      },\n    });\n    loader.classList.add('invisible');\n    document.getElementById('single').classList.remove('invisible');\n  })\n   .catch(error =>\n    console.error(`Error occurred: ${error}`)\n  );"],"names":["API_KEY","BASE_URL","axiosInstance","axios","fetchBreeds","response","error","fetchCatByBreed","id","optionsContainer","infoContainer","loader","optionsMarkup","data","item","name","reference_image_id","catMarkup","cat","url","description","temperament","SlimSelect"],"mappings":"6vBAEA,MAAMA,EACJ,wEAEIC,EAAW,+BAEXC,EAAgBC,EAAM,OAAO,CACjC,QAASF,EACT,QAAS,CACP,YAAaD,EACb,eAAgB,kBACjB,CACH,CAAC,EAEM,SAASI,GAAc,CAC5B,OAAOF,EAAc,IAAI,SAAS,EAC/B,KAAKG,GAAYA,EAAS,IAAI,EAC9B,MAAMC,IACL,QAAQ,MAAM,0BAA0BA,GAAO,EACxC,GACR,CACL,CAEO,SAASC,EAAgBC,EAAI,CAClC,OAAON,EAAc,IAAI,WAAWM,GAAI,EACrC,KAAKH,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,MAAM,IAAI,MAAMA,EAAM,SAAS,UAAU,CAC/C,CAAK,CACL,CC1BA,MAAMG,EAAmB,SAAS,cAAc,eAAe,EACzDC,EAAgB,SAAS,cAAc,WAAW,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAAcC,EAAM,CAC3B,OAAOA,EACJ,IAAIC,GAAQ,CACX,KAAM,CAAE,KAAAC,EAAM,mBAAAC,CAAoB,EAAGF,EACrC,MAAO,kBAAkBE,MAAuBD,YACtD,CAAK,EACA,KAAK,EAAE,CACZ,CAEA,SAASE,EAAUC,EAAK,CACtB,KAAM,CACJ,IAAAC,EACA,OAAQ,CACN,EAAG,CAAE,YAAAC,EAAa,YAAAC,EAAa,KAAAN,CAAM,CACtC,CACF,EAAGG,EACJ,OAAAP,EAAO,UAAU,OAAO,SAAS,EACxB,OAAOI;AAAA;AAAA,0BAEQI;AAAA;AAAA,qBAELC;AAAA;AAAA,2CAEsBC;AAAA;AAAA,SAG3C,CAEAV,EAAO,UAAU,IAAI,SAAS,EAE9BP,EAAa,EACV,KAAKS,GAAQ,CACR,MAAM,QAAQA,CAAI,GAAKA,EAAK,OAAS,EACvCJ,EAAiB,UACf,4CAA8CG,EAAcC,CAAI,EAElEJ,EAAiB,UAAY,EAEnC,CAAG,EACA,KAAK,IAAM,CACV,IAAIa,EAAW,CACb,OAAQ,UACR,SAAU,CACR,gBAAiB,cAClB,EACD,OAAQ,CACN,YAAa,IAAM,CACjBZ,EAAc,UAAU,IAAI,WAAW,EACvCC,EAAO,UAAU,OAAO,WAAW,EACnCJ,EAAgBE,EAAiB,KAAK,EACnC,KAAKS,GAAQR,EAAc,UAAYO,EAAUC,CAAG,CAAE,EACtD,KAAK,IAAM,CACVP,EAAO,UAAU,IAAI,WAAW,EAChCD,EAAc,UAAU,OAAO,WAAW,CACxD,CAAa,EACA,MAAMJ,GACL,QAAQ,MAAM,mBAAmBA,GAAO,CACtD,CACS,CACF,CACP,CAAK,EACDK,EAAO,UAAU,IAAI,WAAW,EAChC,SAAS,eAAe,QAAQ,EAAE,UAAU,OAAO,WAAW,CAClE,CAAG,EACC,MAAML,GACN,QAAQ,MAAM,mBAAmBA,GAAO,CACzC"}