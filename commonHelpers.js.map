{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios, { AxiosHeaders } from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_jJ5aLGn50ZkM07nMxodxDW7fSjdGGLoPRReFN6eyXEoTBwtctXneqCxESjN80VWx';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\n\nexport function fetchBreeds() {\n  return fetch(`${BASE_URL}/breeds?x-api-key=${AxiosHeaders}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    } else {\n      return resp.json();\n    }\n  });\n}\n\nexport function fetchCatByBreed(id) {\n  return fetch(`${BASE_URL}/images/${id}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    } else {\n      return resp.json();\n    }\n  });\n}","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport SlimSelect from 'slim-select';\nimport '../node_modules/slim-select/dist/slimselect.css';\n\nconst optionsContainer = document.querySelector('.breed-select');\nconst infoContainer = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\n\nfunction optionsMarkup(data) {\n  return data\n    .map(item => {\n      const { name, reference_image_id } = item;\n      return `<option value=\"${reference_image_id}\">${name}</option>`;\n    })\n    .join('');\n}\n\nfunction catMarkup(cat) {\n  const {\n    url,\n    breeds: {\n      0: { description, temperament, name },\n    },\n  } = cat;\n  loader.classList.remove('visible');\n    return `<h2>${name}</h2>\n  <div class=\"info-container\">\n  <img width=\"500\" src=\"${url}\" class=\"cat-image\">\n  <div class=\"text-container\">\n  <p class=\"cat-p\">${description}</p>\n  <p class=\"cat-p\">\n  <span class=\"bold\">Temperament: </span>${temperament}</p>\n  </div>\n  </div>`;\n}\n\nloader.classList.add('visible');\n\nfetchBreeds()\n  .then(data => {\n    console.log(data);\n    optionsContainer.innerHTML =\n      `<option data-placeholder=\"true\"></option>` + optionsMarkup(data);\n  })\n  .then(() => {\n    new SlimSelect({\n      select: '#single',\n      settings: {\n        placeholderText: 'Select a cat',\n      },\n      events: {\n        afterChange: () => {\n          infoContainer.classList.add('invisible');\n          loader.classList.remove('invisible');\n          fetchCatByBreed(optionsContainer.value)\n            .then(cat => (infoContainer.innerHTML = catMarkup(cat)))\n            .then(() => {\n              loader.classList.add('invisible');\n              infoContainer.classList.remove('invisible');\n            })\n            .catch(error =>\n              console.error(`Error occurred: ${error}`)\n            );\n        },\n      },\n    });\n    loader.classList.add('invisible');\n    document.getElementById('single').classList.remove('invisible');\n  })\n   .catch(error =>\n    console.error(`Error occurred: ${error}`)\n  );"],"names":["axios","BASE_URL","fetchBreeds","AxiosHeaders","resp","fetchCatByBreed","id","optionsContainer","infoContainer","loader","optionsMarkup","data","item","name","reference_image_id","catMarkup","cat","url","description","temperament","SlimSelect","error"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,MAAMC,EAAW,+BAEV,SAASC,GAAc,CAC5B,OAAO,MAAM,GAAGD,sBAA6BE,GAAc,EAAE,KAAKC,GAAQ,CACxE,GAAKA,EAAK,GAGR,OAAOA,EAAK,OAFZ,MAAM,IAAI,MAAMA,EAAK,UAAU,CAIrC,CAAG,CACH,CAEO,SAASC,EAAgBC,EAAI,CAClC,OAAO,MAAM,GAAGL,YAAmBK,GAAI,EAAE,KAAKF,GAAQ,CACpD,GAAKA,EAAK,GAGR,OAAOA,EAAK,OAFZ,MAAM,IAAI,MAAMA,EAAK,UAAU,CAIrC,CAAG,CACH,CCrBA,MAAMG,EAAmB,SAAS,cAAc,eAAe,EACzDC,EAAgB,SAAS,cAAc,WAAW,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAAcC,EAAM,CAC3B,OAAOA,EACJ,IAAIC,GAAQ,CACX,KAAM,CAAE,KAAAC,EAAM,mBAAAC,CAAoB,EAAGF,EACrC,MAAO,kBAAkBE,MAAuBD,YACtD,CAAK,EACA,KAAK,EAAE,CACZ,CAEA,SAASE,EAAUC,EAAK,CACtB,KAAM,CACJ,IAAAC,EACA,OAAQ,CACN,EAAG,CAAE,YAAAC,EAAa,YAAAC,EAAa,KAAAN,CAAM,CACtC,CACF,EAAGG,EACJ,OAAAP,EAAO,UAAU,OAAO,SAAS,EACxB,OAAOI;AAAA;AAAA,0BAEQI;AAAA;AAAA,qBAELC;AAAA;AAAA,2CAEsBC;AAAA;AAAA,SAG3C,CAEAV,EAAO,UAAU,IAAI,SAAS,EAE9BP,EAAa,EACV,KAAKS,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EAChBJ,EAAiB,UACf,4CAA8CG,EAAcC,CAAI,CACtE,CAAG,EACA,KAAK,IAAM,CACV,IAAIS,EAAW,CACb,OAAQ,UACR,SAAU,CACR,gBAAiB,cAClB,EACD,OAAQ,CACN,YAAa,IAAM,CACjBZ,EAAc,UAAU,IAAI,WAAW,EACvCC,EAAO,UAAU,OAAO,WAAW,EACnCJ,EAAgBE,EAAiB,KAAK,EACnC,KAAKS,GAAQR,EAAc,UAAYO,EAAUC,CAAG,CAAE,EACtD,KAAK,IAAM,CACVP,EAAO,UAAU,IAAI,WAAW,EAChCD,EAAc,UAAU,OAAO,WAAW,CACxD,CAAa,EACA,MAAMa,GACL,QAAQ,MAAM,mBAAmBA,GAAO,CACtD,CACS,CACF,CACP,CAAK,EACDZ,EAAO,UAAU,IAAI,WAAW,EAChC,SAAS,eAAe,QAAQ,EAAE,UAAU,OAAO,WAAW,CAClE,CAAG,EACC,MAAMY,GACN,QAAQ,MAAM,mBAAmBA,GAAO,CACzC"}